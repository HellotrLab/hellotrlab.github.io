<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Three.js Animated Geometry</title>
    <style>
        body {
            background-color: #1a1a1a;
            margin: 0;
            overflow: hidden;
            font-family: Arial, sans-serif;
        }
        .info-panel {
            position: absolute;
            top: 20px;
            left: 20px;
            color: white;
            background: rgba(0, 0, 0, 0.7);
            padding: 15px;
            border-radius: 8px;
            max-width: 300px;
            z-index: 100;
        }
        h1 {
            font-size: 18px;
            margin-top: 0;
            color: #ffa500;
        }
        .instructions {
            font-size: 14px;
            line-height: 1.4;
        }
    </style>
</head>
<body>

    <script src="http://threejsplaygnd.brangerbriz.net/js/three.min.js"></script>
    <script src="http://threejsplaygnd.brangerbriz.net/js/Detector.js"></script>
    <script>
        if (!Detector.webgl) Detector.addGetWebGLMessage();
        
        var camera, scene, renderer;
        var geometry, material, mesh;

        function setup() {
            var W = window.innerWidth, H = window.innerHeight;
            
            // Create renderer with preserveDrawingBuffer for trails
            renderer = new THREE.WebGLRenderer({ preserveDrawingBuffer: true });
            renderer.autoClearColor = false;
            renderer.setSize(W, H);
            document.body.appendChild(renderer.domElement);

            camera = new THREE.PerspectiveCamera(50, W/H, 1, 10000);
            camera.position.z = 500;

            scene = new THREE.Scene();
            
            // Create geometry (torus) and material
            geometry = new THREE.TorusGeometry(100, 40, 16, 100);
            material = new THREE.MeshPhongMaterial({ 
                color: 0xff9500,
                shininess: 100,
                specular: 0x222222
            });
            
            mesh = new THREE.Mesh(geometry, material);
            scene.add(mesh);
            
            // Add some lights
            var ambientLight = new THREE.AmbientLight(0x222222);
            scene.add(ambientLight);
            
            var directionalLight = new THREE.DirectionalLight(0xffffff, 1);
            directionalLight.position.set(1, 1, 1);
            scene.add(directionalLight);
            
            var pointLight = new THREE.PointLight(0x3366ff, 1, 300);
            pointLight.position.set(-100, -100, 100);
            scene.add(pointLight);
        }

        function draw() {
            requestAnimationFrame(draw);
            
            // Oscillate hue
            var time = Date.now() * 0.0005;
            h = (360 * (1.0 + time) % 360) / 360;
            mesh.material.color.setHSL(h, 0.5, 0.5);
            
            // Move and spin the mesh
            mesh.position.x = Math.sin(Date.now() * 0.001) * 150;
            mesh.rotation.z = Date.now() * 0.0005;
            mesh.rotation.y = Date.now() * 0.001;
            mesh.rotation.x = Date.now() * 0.0007;

            renderer.render(scene, camera);
        }

        setup();
        draw();
    </script>
</body>
</html>